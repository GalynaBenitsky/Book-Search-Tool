(this.webpackJsonpbook_search_tool=this.webpackJsonpbook_search_tool||[]).push([[0],{17:function(e,t,n){},19:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(5),s=n.n(a),o=(n(17),n(2)),i=n.n(o),u=n(4),h=n(6),l=n(7),b=n(12),d=n(10),j=(n(19),n(8)),p=function(){var e=Object(u.a)(i.a.mark((function e(t,n){var r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat("http://openlibrary.org").concat(t,"?").concat(Object(j.stringify)(n)),e.next=3,fetch(r,{cache:"no-cache",headers:{Accept:"application/json"}});case 3:return c=e.sent,e.next=6,c.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(e){return p("/search.json",{title:e})},x=n(11),m=n(0),O=function(e){var t=e.book,n=t.title,r=t.author_name,c=t.first_publish_year,a=(t.cover_i,t.key);return Object(m.jsx)("div",{className:"card",children:Object(m.jsxs)("div",{className:"card-body d-flex flex-column",children:[Object(m.jsx)("h5",{className:"card-title",children:Object(m.jsx)("strong",{children:n})}),r,Object(m.jsxs)("p",{className:"card-text",children:["First published: ",c]}),Object(m.jsx)("button",{className:"btn btn-primary mt-auto",children:Object(m.jsx)("a",{href:"https://openlibrary.org".concat(a),children:"Show at Open Library"})})]})})},v=function(e){var t=e.loading,n=void 0!==t&&t,r=e.books,c=void 0===r?[]:r,a=e.count,s=void 0===a?0:a;e.sort;return Object(m.jsxs)("div",{children:[n&&Object(m.jsx)(x.a,{className:"spinner",animation:"border",variant:"secondary"}),c.length>0&&Object(m.jsxs)("p",{className:"subtitle",children:["Showing ",Object(m.jsx)("strong",{children:c.length})," of ",Object(m.jsx)("strong",{children:s})," ","books."]}),Object(m.jsx)("div",{className:"grid-container",children:c.map((function(e){return Object(m.jsx)(O,{book:e},e.key)}))})]})},y=function(e){var t=e.query,n=e.onQueryChange,r=e.onSearch;return Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("form",{className:"book-search",onSubmit:r,children:[Object(m.jsx)("input",{name:"title",className:"book-input",type:"text",defaultValue:t,onChange:n,placeholder:"Search"}),Object(m.jsx)("button",{type:"submit",className:"btn",children:"Let's find a Book"})]})})},g=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(h.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={books:[],isFetching:!1,query:"",numFound:0},e.onSearch=function(){var t=Object(u.a)(i.a.mark((function t(n){var r,c,a,s,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),e.setState({isFetching:!0,books:[]}),t.next=4,f(e.state.query);case 4:r=t.sent,c=r.docs,a=void 0===c?[]:c,s=r.numFound,o=void 0===s?0:s,e.setState({books:a,isFetching:!1,numFound:o});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onQueryChange=function(t){var n=t.target.value;e.setState({query:n})},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)("h1",{className:"title has-text-centered",children:"Book Search Tool"}),Object(m.jsx)(y,{onQueryChange:this.onQueryChange,onSearch:this.onSearch,query:this.state.query}),Object(m.jsx)(v,{loading:this.state.isFetching,books:this.state.books,count:this.state.numFound})]})}}]),n}(r.Component);s.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(g,{})}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.f5355a55.chunk.js.map